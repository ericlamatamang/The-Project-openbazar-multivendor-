{% extends 'core/base.html' %}
{% load static %}

{% block title %}My Products{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/vendors.css' %}">
<link rel="stylesheet" href="{% static 'css/products.css' %}">

<div class="vendor-dashboard">

    <h1>My Products</h1>
    <p class="subtitle">Products you have listed for sale</p>

    {% if products %}
        <div class="product-grid">
            {% for product in products %}
                <div class="product-card">
                    
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}">
                    {% endif %}

                    <h3>{{ product.name }}</h3>
                    <p class="price">Rs. {{ product.price }}</p>

                    <p class="category">{{ product.category }}</p>

                    <div class="actions">
                            
                            <form action="{% url 'products:edit_product' product.id %}" method="get" style="display:inline;">
                                 <button type="submit">Edit</button>
                             </form>

                            <form action="{% url 'products:delete_product' product.id %}" method="post" style="display:inline;">
                                    {% csrf_token %}
                                 <button type="submit">Delete</button>
                             </form>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>You havenâ€™t added any products yet.</p>
            <a href="{% url 'products:add_product' %}" class="btn">
                Add Your First Product
            </a>
        </div>
    {% endif %}

</div>
{% endblock %}
